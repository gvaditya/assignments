
  <!DOCTYPE html>

<html>
<meta charset="utf-8">

<style>

.axis--x path {
  display: none;
}

.line {
  fill: none;
  stroke-width: 1.5px;
}

</style>
<body>
  <center><h4>Statistics for arrest and no arrest between 2001 and 2016</h4></center>

  <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>

<script>
  var color = d3.scale.category10();
var newData = [];

  var data = d3.json("../JSON/finalAssault.json", function(error, data) {
    data.forEach(function(d,i){
      var yr = d.year;
      var ar = {"year":yr,"type":"Arrest","value":d.arrest};
      var nr = {"year":yr,"type":"No Arrest","value":d.noArrest};
      newData[newData.length] = ar;
      newData[newData.length] = nr;
    });


        var margin = {top: 30, right: 20, bottom: 30, left: 50},
        width = 900 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;


        // Set the ranges
        var x = d3.scale.ordinal().domain(newData.map(function(d) { return d.year; })).rangePoints([0,width]);
        var y = d3.scale.linear().range([height, 0]).domain([0,25000]).nice();

        // Define the axes
        var xAxis = d3.svg.axis().scale(x)
        .orient("bottom").ticks(3);

        var yAxis = d3.svg.axis().scale(y)
        .orient("left").ticks(5);

        // Define the line
        var priceline = d3.svg.line()
        .x(function(d) { return x(d.year); })
        .y(function(d) { return y(d.value); });

        var svg = d3.select("body")
        .append("svg")
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
        .append("g")
            .attr("transform",
                  "translate(" + margin.left + "," + margin.top + ")");



          // Nest the entries by symbol
            var dataNest = d3.nest()
                .key(function(d) {return d.type;})
                .entries(newData);

            // Loop through each symbol / key
            dataNest.forEach(function(d) {
                svg.append("path")
                    .attr("class", "line")
                    .attr("d", priceline(d.values))
                    .style("stroke", function (d, i) {
                      return color(i);
                    });
            });

            // Add the X Axis
                svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis);

            // Add the Y Axis
            svg.append("g")
                .attr("class", "y axis")
                .call(yAxis);

      });  //d3 json

    </script>
  </body>
</html>
